---
phase: 16-package-documentation
plan: 01
type: execute
---

<objective>
Create doc.go files with package overviews and runnable examples for claude, lifecycle, and workflow packages.

Purpose: Provide comprehensive package documentation that appears in `go doc` output and godoc, including runnable examples that demonstrate typical usage patterns.
Output: doc.go files for internal/claude, internal/lifecycle, and internal/workflow packages with Example functions.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Prior phase context (documentation patterns established)

@.planning/phases/14-godoc-core-packages/14-01-SUMMARY.md
@.planning/phases/15-godoc-supporting-packages/15-03-SUMMARY.md

# Source files to document

@internal/claude/types.go
@internal/claude/client.go
@internal/lifecycle/executor.go
@internal/workflow/workflow.go

**Tech stack available:** Go, godoc conventions, Example functions
**Established patterns:**

- Go doc comment conventions (complete sentences, summary first line)
- Square bracket references to related types [Executor]
- American spelling per Go stdlib conventions
  </context>

<tasks>

<task type="auto">
  <name>Task 1: Create internal/claude/doc.go with examples</name>
  <files>internal/claude/doc.go</files>
  <action>
Create doc.go with:
1. Extended package overview explaining Claude CLI integration architecture
2. Example_executor function showing basic execution with MockExecutor
3. Example_parser function showing JSON stream parsing
4. Example_event function showing event type checking

The doc.go file should NOT duplicate the package comment from types.go - instead use a doc.go that contains ONLY examples (no package clause - that stays in types.go).

Example function format:

```go
package claude_test

import (
    "fmt"
    "bmad-automate/internal/claude"
)

func Example_mockExecutor() {
    // ... code ...
    // Output:
    // expected output
}
```

Use the `_test` package suffix so examples can import the package being documented.
</action>
<verify>go build ./internal/claude && go test ./internal/claude -run Example</verify>
<done>doc.go exists with at least 2 runnable examples that pass `go test`</done>
</task>

<task type="auto">
  <name>Task 2: Create internal/lifecycle/doc.go with examples</name>
  <files>internal/lifecycle/doc.go</files>
  <action>
Create doc.go with:
1. Example_executor function showing lifecycle execution setup
2. Example_progressCallback function showing progress callback usage

Focus on demonstrating the Executor interface and callback patterns. Since lifecycle depends on claude, workflow, status, state packages, examples should show interface injection patterns.

Use `_test` package suffix for external examples.
</action>
<verify>go build ./internal/lifecycle && go test ./internal/lifecycle -run Example</verify>
<done>doc.go exists with at least 2 runnable examples that pass `go test`</done>
</task>

<task type="auto">
  <name>Task 3: Create internal/workflow/doc.go with examples</name>
  <files>internal/workflow/doc.go</files>
  <action>
Create doc.go with:
1. Example_runner function showing single workflow execution
2. Example_eventHandler function showing event handling patterns

Demonstrate the Runner interface and event handling callback pattern.

Use `_test` package suffix for external examples.
</action>
<verify>go build ./internal/workflow && go test ./internal/workflow -run Example</verify>
<done>doc.go exists with at least 2 runnable examples that pass `go test`</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `go build ./...` succeeds without errors
- [ ] `go test ./internal/claude -run Example` passes
- [ ] `go test ./internal/lifecycle -run Example` passes
- [ ] `go test ./internal/workflow -run Example` passes
- [ ] `just lint` passes
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- 3 doc.go files created with runnable examples
- Examples demonstrate key package usage patterns
  </success_criteria>

<output>
After completion, create `.planning/phases/16-package-documentation/16-01-SUMMARY.md`
</output>
